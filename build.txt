Xvfb -screen 0 1920x1080x24+32 +extension GLX +render -noreset -nocursor -fbdir /tmp/kaka :1

gcc -Werror -Wall -pedantic -o damage damage.c -lX11 -lXdamage -lXfixes -lpthread && \
    DISPLAY=:1 socat unix-l:/tmp/kaka/Xdamage,fork exec:./damage

gcc -Werror -Wall -pedantic -o xtest xtest.c -lX11 -lXtst && \
    DISPLAY=:1 socat unix-l:/tmp/kaka/Xtest,fork exec:./xtest

gcc -Werror -Wall -pedantic -o xeglxvfb eglxvfb.c xeglxvfb.c -lGLESv2 -lEGL -lX11 -lpthread && \
    DISPLAY=:0 ./xeglxvfb /tmp/kaka

DISPLAY=:1 vglrun google-chrome https://doit.sh

